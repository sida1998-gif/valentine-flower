<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b0b12" />
  <title>For You üå∑</title>
  <style>
    :root{
      --bg1:#070711;
      --bg2:#120a1c;
      --glow:#ff4d8d;
      --petal1:#ff5aa5;
      --petal2:#ff2e77;
      --petal3:#ff88c6;
      --stem:#2bd27a;
      --leaf:#1fb86a;
      --center:#ffd166;
      --text:#f6f2ff;
      --muted:#cbbbe6;
      --shadow: rgba(0,0,0,.45);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 20%, #2a1346 0%, transparent 60%),
        radial-gradient(900px 600px at 80% 30%, #2a0f2c 0%, transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:28px 16px;
    }

    .card{
      width:min(920px, 100%);
      border-radius:24px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 20px 60px var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding:22px;
      position:relative;
      overflow:hidden;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-60px;
      background:
        radial-gradient(240px 240px at 15% 25%, rgba(255,77,141,.22), transparent 60%),
        radial-gradient(320px 320px at 85% 20%, rgba(255,209,102,.16), transparent 60%),
        radial-gradient(380px 380px at 65% 85%, rgba(43,210,122,.14), transparent 65%);
      filter: blur(2px);
      pointer-events:none;
    }

    header{
      position:relative;
      display:flex;
      gap:14px;
      align-items:flex-start;
      justify-content:space-between;
      padding:6px 6px 12px;
      flex-wrap:wrap;
    }

    h1{
      margin:0;
      font-size: clamp(22px, 2.4vw, 30px);
      letter-spacing:.2px;
    }

    .sub{
      margin:6px 0 0;
      color:var(--muted);
      font-size: 14px;
      line-height:1.4;
      max-width: 60ch;
    }

    .pillrow{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-top:10px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      font-size: 13px;
    }

    .pill kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 12px;
      padding:2px 6px;
      border-radius:8px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
    }

    main{
      position:relative;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items:center;
      padding: 8px 6px 10px;
    }

    @media (max-width: 860px){
      main{ grid-template-columns:1fr; }
    }

    .stage{
      position:relative;
      border-radius:22px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      height: clamp(420px, 52vw, 560px);
      overflow:hidden;
    }

    /* soft sparkles */
    .sparkle{
      position:absolute;
      width: 6px; height:6px;
      border-radius:50%;
      background: radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,0) 70%);
      opacity:.55;
      filter: blur(.2px);
      animation: floatUp linear infinite;
      pointer-events:none;
    }
    @keyframes floatUp{
      from { transform: translateY(40px) scale(.7); opacity:.0; }
      15% { opacity:.65; }
      to { transform: translateY(-520px) scale(1.15); opacity:0; }
    }

    /* The flower (pure CSS) */
    .flowerWrap{
      position:absolute;
      left:50%;
      top:55%;
      transform: translate(-50%,-50%);
      width: 320px;
      height: 420px;
      display:grid;
      place-items:center;
      perspective: 900px;
      user-select:none;
      touch-action: manipulation;
    }

    .flower{
      position:relative;
      width: 280px;
      height: 360px;
      transform-style: preserve-3d;
      filter: drop-shadow(0 18px 18px rgba(0,0,0,.35));
      transition: transform .18s ease-out;
    }

    .petals{
      position:absolute;
      left:50%;
      top: 125px;
      transform: translateX(-50%);
      width: 240px;
      height: 240px;
      transform-style:preserve-3d;
      animation: bloom 2.6s cubic-bezier(.18,.84,.22,1) both;
    }

    @keyframes bloom{
      from{ transform: translateX(-50%) scale(.25) rotateX(55deg); opacity:.0;}
      45%{ opacity: 1;}
      to  { transform: translateX(-50%) scale(1) rotateX(0deg); opacity:1;}
    }

    .petal{
      position:absolute;
      left:50%;
      top:50%;
      width: 110px;
      height: 150px;
      transform-origin: 50% 95%;
      border-radius: 70% 70% 70% 70% / 70% 70% 90% 90%;
      background: radial-gradient(120px 120px at 35% 30%, var(--petal3) 0%, var(--petal1) 42%, var(--petal2) 100%);
      box-shadow:
        inset 0 10px 18px rgba(255,255,255,.18),
        inset 0 -14px 22px rgba(0,0,0,.22);
      filter: saturate(1.1);
      opacity: .98;
    }

    /* Make each petal rotate around center, slightly lifted for 3D */
    .petal:nth-child(1){ transform: translate(-50%,-80%) rotate(0deg)   rotateX(18deg) translateZ(10px); }
    .petal:nth-child(2){ transform: translate(-50%,-80%) rotate(30deg)  rotateX(16deg) translateZ(12px); }
    .petal:nth-child(3){ transform: translate(-50%,-80%) rotate(60deg)  rotateX(14deg) translateZ(10px); }
    .petal:nth-child(4){ transform: translate(-50%,-80%) rotate(90deg)  rotateX(18deg) translateZ(12px); }
    .petal:nth-child(5){ transform: translate(-50%,-80%) rotate(120deg) rotateX(16deg) translateZ(10px); }
    .petal:nth-child(6){ transform: translate(-50%,-80%) rotate(150deg) rotateX(14deg) translateZ(12px); }
    .petal:nth-child(7){ transform: translate(-50%,-80%) rotate(180deg) rotateX(18deg) translateZ(10px); }
    .petal:nth-child(8){ transform: translate(-50%,-80%) rotate(210deg) rotateX(16deg) translateZ(12px); }
    .petal:nth-child(9){ transform: translate(-50%,-80%) rotate(240deg) rotateX(14deg) translateZ(10px); }
    .petal:nth-child(10){transform: translate(-50%,-80%) rotate(270deg) rotateX(18deg) translateZ(12px); }
    .petal:nth-child(11){transform: translate(-50%,-80%) rotate(300deg) rotateX(16deg) translateZ(10px); }
    .petal:nth-child(12){transform: translate(-50%,-80%) rotate(330deg) rotateX(14deg) translateZ(12px); }

    .center{
      position:absolute;
      left:50%;
      top:125px;
      transform: translateX(-50%);
      width: 92px;
      height: 92px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 35% 30%, #fff3b0 0%, var(--center) 35%, #f4a261 100%);
      box-shadow:
        0 10px 25px rgba(255,209,102,.18),
        inset 0 10px 18px rgba(255,255,255,.20),
        inset 0 -18px 22px rgba(0,0,0,.22);
      animation: pulse 2.2s ease-in-out infinite;
    }

    @keyframes pulse{
      0%,100%{ transform: translateX(-50%) scale(1); }
      50%{ transform: translateX(-50%) scale(1.04); }
    }

    .center::after{
      content:"";
      position:absolute;
      inset: 14px;
      border-radius:50%;
      background:
        radial-gradient(circle at 30% 30%, rgba(0,0,0,.16), rgba(0,0,0,0) 70%),
        radial-gradient(circle, rgba(255,255,255,.18), rgba(255,255,255,0) 60%);
      mix-blend-mode: overlay;
    }

    .stem{
      position:absolute;
      left:50%;
      top: 190px;
      width: 18px;
      height: 210px;
      transform: translateX(-50%);
      border-radius: 999px;
      background: linear-gradient(180deg, #38e28a, var(--stem));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.14);
    }

    .leaf{
      position:absolute;
      width: 110px;
      height: 64px;
      background: radial-gradient(140px 80px at 30% 40%, #56f0a1 0%, var(--leaf) 52%, #0e7f49 100%);
      border-radius: 90% 10% 90% 10% / 80% 20% 80% 20%;
      box-shadow:
        inset 0 10px 16px rgba(255,255,255,.12),
        inset 0 -12px 18px rgba(0,0,0,.22);
      filter: saturate(1.05);
    }

    .leaf.left{
      left: calc(50% - 120px);
      top: 280px;
      transform: rotate(-18deg);
    }

    .leaf.right{
      left: calc(50% + 18px);
      top: 315px;
      transform: rotate(16deg) scaleX(-1);
    }

    .hint{
      position:absolute;
      left:16px;
      bottom:14px;
      font-size:13px;
      color: rgba(255,255,255,.72);
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.12);
      padding:8px 10px;
      border-radius: 14px;
    }

    .panel{
      border-radius:22px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      padding:16px;
      position:relative;
      overflow:hidden;
    }

    .panel h2{
      margin:0 0 8px;
      font-size: 18px;
    }

    .panel p{
      margin:0 0 12px;
      color: var(--muted);
      line-height:1.55;
      font-size:14px;
    }

    .controls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    button{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 650;
      color: var(--text);
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
    }
    button:hover{ background: rgba(255,255,255,.11); border-color: rgba(255,255,255,.16); }
    button:active{ transform: translateY(1px) scale(.99); }

    .primary{
      background: linear-gradient(135deg, rgba(255,77,141,.95), rgba(255,46,119,.85));
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 10px 25px rgba(255,77,141,.18);
    }

    .primary:hover{
      background: linear-gradient(135deg, rgba(255,77,141,1), rgba(255,46,119,.92));
    }

    .msg{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      min-height: 72px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      line-height: 1.4;
    }

    .sig{
      margin-top: 10px;
      text-align:center;
      font-size: 13px;
      color: rgba(255,255,255,.70);
    }

    .glowline{
      position:absolute;
      inset:auto -40px -60px -40px;
      height:160px;
      background: radial-gradient(closest-side, rgba(255,77,141,.16), transparent 70%);
      filter: blur(10px);
      pointer-events:none;
    }

    /* Accessibility */
    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div>
          <h1>Happy Valentine‚Äôs Day üå∑</h1>
          <p class="sub">
            A little virtual flower made entirely with code ‚Äî just for you.
            Move your mouse (or tilt your finger) to make it ‚Äúfollow‚Äù you.
          </p>

          <div class="pillrow" aria-hidden="true">
            <span class="pill">Interaction: <kbd>mouse</kbd> / <kbd>touch</kbd></span>
            <span class="pill">Try: <kbd>Space</kbd> to sparkle</span>
            <span class="pill">Try: <kbd>Enter</kbd> to reveal note</span>
          </div>
        </div>

        <div class="pill" style="margin-top:4px;">
          <span aria-hidden="true">üíó</span>
          <span id="dateLine">February 14</span>
        </div>
      </header>

      <main>
        <section class="stage" aria-label="Animated flower scene">
          <div class="flowerWrap">
            <div class="flower" id="flower" role="img" aria-label="An animated pink flower with a green stem and leaves.">
              <div class="petals" id="petals">
                <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
                <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
                <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
              </div>
              <div class="center"></div>
              <div class="stem"></div>
              <div class="leaf left"></div>
              <div class="leaf right"></div>
            </div>
          </div>

          <div class="hint">Tip: click/tap the flower ‚ú®</div>
        </section>

        <aside class="panel" aria-label="Love note panel">
          <div class="glowline"></div>
          <h2>Your note</h2>
          <p>
            Customize the message below (search for <strong>EDIT ME</strong> in the code).
            Then share the website link with her.
          </p>

          <div class="controls">
            <button class="primary" id="revealBtn" type="button">Reveal the love note</button>
            <button id="sparkleBtn" type="button">Make sparkles</button>
            <button id="colorBtn" type="button">Change petals</button>
          </div>

          <div class="msg" id="msg" aria-live="polite">
            <span>Press ‚ÄúReveal‚Äù üíå</span>
          </div>

          <div class="sig" id="sig">‚Äî from <span id="fromName">Someone who adores you</span></div>
        </aside>
      </main>
    </div>
  </div>

  <script>
    // ======= EDIT ME =======
    const HER_NAME = "My Love";              // e.g. "Sophie"
    const FROM_NAME = "Your Name";           // e.g. "Max"
    const LOVE_NOTE = [
      `Hey ${HER_NAME} üíó`,
      "I coded this flower for you so it never wilts.",
      "Thank you for being my favorite part of every day.",
      "Happy Valentine‚Äôs Day ‚Äî I love you."
    ].join("<br>");
    // =======================

    // Set date line to Feb 14 (but keep it simple/offline)
    document.getElementById("dateLine").textContent = "Valentine‚Äôs Day";

    // Fill signature name
    document.getElementById("fromName").textContent = FROM_NAME;

    const msg = document.getElementById("msg");
    const revealBtn = document.getElementById("revealBtn");
    const sparkleBtn = document.getElementById("sparkleBtn");
    const colorBtn = document.getElementById("colorBtn");

    // Reveal note
    function reveal(){
      msg.innerHTML = LOVE_NOTE;
      burstSparkles(18);
    }
    revealBtn.addEventListener("click", reveal);

    // Flower parallax tilt
    const stage = document.querySelector(".stage");
    const flower = document.getElementById("flower");

    function tiltFromPoint(x, y){
      const r = stage.getBoundingClientRect();
      const nx = (x - r.left) / r.width;   // 0..1
      const ny = (y - r.top) / r.height;   // 0..1
      const rx = (0.5 - ny) * 14;          // tilt up/down
      const ry = (nx - 0.5) * 18;          // tilt left/right
      flower.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
    }

    stage.addEventListener("mousemove", (e)=> tiltFromPoint(e.clientX, e.clientY), {passive:true});
    stage.addEventListener("mouseleave", ()=> flower.style.transform = "rotateX(0deg) rotateY(0deg)");

    stage.addEventListener("touchmove", (e)=>{
      if(!e.touches || !e.touches[0]) return;
      tiltFromPoint(e.touches[0].clientX, e.touches[0].clientY);
    }, {passive:true});

    stage.addEventListener("touchend", ()=> flower.style.transform = "rotateX(0deg) rotateY(0deg)");

    // Click/tap flower -> sparkles + little bounce
    stage.addEventListener("click", (e)=>{
      burstSparkles(14, e.clientX, e.clientY);
      flower.animate(
        [{transform: flower.style.transform + " scale(1)"},
         {transform: flower.style.transform + " scale(1.03)"},
         {transform: flower.style.transform + " scale(1)"}],
        {duration: 320, easing: "cubic-bezier(.2,.9,.2,1)"}
      );
    });

    // Sparkles
    function burstSparkles(count=12, x=null, y=null){
      const r = stage.getBoundingClientRect();
      const baseX = (x ?? (r.left + r.width*0.5));
      const baseY = (y ?? (r.top + r.height*0.65));

      for(let i=0;i<count;i++){
        const s = document.createElement("div");
        s.className = "sparkle";
        const px = baseX - r.left + (Math.random()*140 - 70);
        const py = baseY - r.top + (Math.random()*60 - 30);
        const dur = 1800 + Math.random()*1400;
        const delay = Math.random()*120;

        s.style.left = px + "px";
        s.style.top = py + "px";
        s.style.animationDuration = dur + "ms";
        s.style.animationDelay = delay + "ms";
        s.style.opacity = (0.35 + Math.random()*0.35).toFixed(2);
        s.style.transform = `translateY(${20 + Math.random()*40}px) scale(${0.7 + Math.random()*0.9})`;

        stage.appendChild(s);
        setTimeout(()=> s.remove(), dur + delay + 50);
      }
    }

    sparkleBtn.addEventListener("click", ()=> burstSparkles(22));

    // Petal color themes
    const themes = [
      {p1:"#ff5aa5", p2:"#ff2e77", p3:"#ff88c6", glow:"#ff4d8d"},
      {p1:"#ff7a59", p2:"#ff3d2e", p3:"#ffb199", glow:"#ff6b57"},
      {p1:"#9b5cff", p2:"#6c2cff", p3:"#c39bff", glow:"#a56bff"},
      {p1:"#4dd8ff", p2:"#00a6ff", p3:"#9df0ff", glow:"#58d7ff"}
    ];
    let themeIndex = 0;

    function applyTheme(t){
      document.documentElement.style.setProperty("--petal1", t.p1);
      document.documentElement.style.setProperty("--petal2", t.p2);
      document.documentElement.style.setProperty("--petal3", t.p3);
      document.documentElement.style.setProperty("--glow", t.glow);
      burstSparkles(10);
    }

    colorBtn.addEventListener("click", ()=>{
      themeIndex = (themeIndex + 1) % themes.length;
      applyTheme(themes[themeIndex]);
    });

    // Keyboard shortcuts: Space = sparkles, Enter = reveal
    window.addEventListener("keydown", (e)=>{
      if(e.code === "Space"){ e.preventDefault(); burstSparkles(18); }
      if(e.code === "Enter"){ reveal(); }
    });

    // A few ambient sparkles
    setInterval(()=> burstSparkles(2), 1200);
  </script>
</body>
</html>
